import{m as i}from"./module.esm-CLWRBzRS.js";import{s as n}from"./main-Bqe_gt0f.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./store-DSnQNQ08.js";i.data("tagInput",()=>({tags:[],input:"",suggestions:[],loading:!1,persist:!0,init(){var s;this.tags=i.$persist(this.tags).as("tags");const t=(s=this.$refs.hiddenInput)==null?void 0:s.value;t&&(this.tags=t.split(",").map(e=>e.trim()))},async fetchSuggestions(){if(this.input.length<2){this.suggestions=[];return}this.loading=!0;try{const s=await(await fetch(`/jobs/skills-autocomplete/?q=${encodeURIComponent(this.input)}`)).json();this.suggestions=s.results||[]}catch(t){console.error("Error fetching suggestions:",t),this.suggestions=[]}finally{this.loading=!1}},addTag(t){this.tags.includes(t)||(this.tags.push(t),this.updateHiddenInput()),this.input="",this.suggestions=[]},removeTag(t){this.tags.splice(t,1),this.updateHiddenInput()},updateHiddenInput(){this.$refs.hiddenInput&&(this.$refs.hiddenInput.value=this.tags.join(","),this.$refs.hiddenInput.dispatchEvent(new Event("change",{bubbles:!0})))},handleKeydown(t){t.key==="Enter"&&this.input?(t.preventDefault(),this.addTag(this.input)):t.key==="Backspace"&&!this.input&&this.tags.length>0&&this.removeTag(this.tags.length-1)}}));document.addEventListener("alpine:init",()=>{i.plugin(n)});const o={};export{o as default};
